{
  "$schema": "../information-flow.schema.json",
  "name": "New Todo List Application",
  "description": "A todo application with use cases: add todos, check off and view overview",
  "version": "1.0.0",

  "timeline": [

    {
      "type": "state",
      "name": "TodoOverview",
      "tick": 10,
      "sourcedFrom": ["TodoAdded", "TodoCheckedOff"],
      "example": {
        "todos": []
      }
    },
    {
      "type": "actor",
      "name": "User",
      "tick": 20,
      "readsView": "TodoOverview",
      "sendsCommand": "AddTodo"
    },
    {
      "type": "command",
      "name": "AddTodo",
      "tick": 30,
      "example": {
        "title": "Buy milk"
      }
    },
    {
      "type": "event",
      "name": "TodoAdded",
      "tick": 40,
      "producedBy": "AddTodo-30",
      "example": {
        "todoId": "todo-001",
        "title": "Buy milk",
        "addedAt": "2026-01-22T09:00:00Z"
      }
    },


    {
      "type": "state",
      "name": "TodoOverview",
      "tick": 50,
      "sourcedFrom": ["TodoAdded", "TodoCheckedOff"],
      "example": {
        "todos": [
          { "id": "todo-001", "title": "Buy milk", "completed": false }
        ]
      }
    },
    {
      "type": "actor",
      "name": "User",
      "tick": 60,
      "readsView": "TodoOverview",
      "sendsCommand": "AddTodo"
    },
    {
      "type": "command",
      "name": "AddTodo",
      "tick": 70,
      "example": {
        "title": "Reply to emails"
      }
    },
    {
      "type": "event",
      "name": "TodoAdded",
      "tick": 80,
      "producedBy": "AddTodo-70",
      "example": {
        "todoId": "todo-002",
        "title": "Reply to emails",
        "addedAt": "2026-01-22T09:05:00Z"
      }
    },


    {
      "type": "state",
      "name": "TodoOverview",
      "tick": 90,
      "sourcedFrom": ["TodoAdded", "TodoCheckedOff"],
      "example": {
        "todos": [
          { "id": "todo-001", "title": "Buy milk", "completed": false },
          { "id": "todo-002", "title": "Reply to emails", "completed": false }
        ]
      }
    },
    {
      "type": "actor",
      "name": "User",
      "tick": 100,
      "readsView": "TodoOverview",
      "sendsCommand": "CheckOffTodo"
    },
    {
      "type": "command",
      "name": "CheckOffTodo",
      "tick": 110,
      "example": {
        "todoId": "todo-001"
      }
    },
    {
      "type": "event",
      "name": "TodoCheckedOff",
      "tick": 120,
      "producedBy": "CheckOffTodo-110",
      "example": {
        "todoId": "todo-001",
        "checkedOffAt": "2026-01-22T10:30:00Z"
      }
    },


    {
      "type": "state",
      "name": "TodoOverview",
      "tick": 130,
      "sourcedFrom": ["TodoAdded", "TodoCheckedOff"],
      "example": {
        "todos": [
          { "id": "todo-001", "title": "Buy milk", "completed": true },
          { "id": "todo-002", "title": "Reply to emails", "completed": false }
        ]
      }
    },
    {
      "type": "actor",
      "name": "User",
      "tick": 140,
      "readsView": "TodoOverview",
      "sendsCommand": "AddTodo"
    }
  ]
}
